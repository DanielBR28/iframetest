<!DOCTYPE html>
<html lang="en">
	<body style="max-width: fit-content; border-style: outset;">
		<button id="pullData" onclick="pullData()">Pull Data</button>

		<script>
		var requestMessage= { "pullData": true, "showBanner": true, "bannerMessage": "iframe Pulled Entity Data", "bannerDetail": "iframe pulled data from current entity"};

		window.addEventListener("load", iframeListener, false);

		function iframeListener()
		{
			window.addEventListener("message", receiveMessage, false);
		}

		function receiveMessage(e)
		{
			if (e.origin === "http://localhost:4200"){
				alert("Iframe: message from external domain(" + e.origin + "): ");
				alert(e.data);
			}
		}

		function pullData() 
		{
		  window.parent.postMessage(requestMessage, "http://localhost:4200");
		}
		</script>
	</body>
</html>
